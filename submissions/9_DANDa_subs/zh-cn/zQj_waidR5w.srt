1
00:00:00,290 --> 00:00:02,710
如果你准备就绪 我们就跟随代码来重塑

2
00:00:02,710 --> 00:00:06,590
数据框 首先 让我们安装和加载

3
00:00:06,590 --> 00:00:10,340
R reshape2 包 现在 让我们为

4
00:00:10,340 --> 00:00:13,300
一个新的 wide 格式的数据框创建变量 我将用

5
00:00:13,300 --> 00:00:15,950
同样的变量名 并将 wide

6
00:00:15,950 --> 00:00:18,760
添加到末尾 现在 我们要使用 dcast

7
00:00:18,760 --> 00:00:22,310
函数 dcast 函数来自于 R reshape2 包 字母 d 

8
00:00:22,310 --> 00:00:25,760
代表我们希望结果是一个数据框

9
00:00:25,760 --> 00:00:28,250
如果我们需要数组或矩阵 我们可以使用

10
00:00:28,250 --> 00:00:31,890
acast 函数 我们指定要更改的数据集 然后

11
00:00:31,890 --> 00:00:34,820
我们引入一个公式 所以 这个数据框就是

12
00:00:34,820 --> 00:00:38,960
我要修改的 然后 这是我要输入公式的地方 现在

13
00:00:38,960 --> 00:00:41,200
公式的第一部分或 ～ 符号左边

14
00:00:41,200 --> 00:00:44,220
将列出我需要保留的变量

15
00:00:44,220 --> 00:00:48,050
在这里 我只需要保留 age 在 ～ 符号右边

16
00:00:48,050 --> 00:00:51,400
我们使用 gender 变量 

17
00:00:51,400 --> 00:00:54,430
因为我们希望在数据框内 男性和女性用户都有关于 friend 数量的中位数列

18
00:00:54,430 --> 00:00:58,180
最后 我们设置 value.var = median_friend

19
00:00:58,180 --> 00:01:02,360
因为 value.var 在新的数据框中保存关键测量项

20
00:01:02,360 --> 00:01:05,019
或者值 看起来

21
00:01:05,019 --> 00:01:07,900
我忘记了给这个变量加上引号  所以我们来补上

22
00:01:07,900 --> 00:01:11,210
现在 我们应该获得了新的数据框 让我们来看看 

23
00:01:11,210 --> 00:01:13,020
其中的一些 所以 这样一来

24
00:01:13,020 --> 00:01:16,590
我们能确保理解 dcast 函数 下面是一些打印出的行

25
00:01:16,590 --> 00:01:20,970
注意这里有 age 列 我的女性好友数中位数和

26
00:01:20,970 --> 00:01:25,190
我的男性好友数中位数 看看你是否可以自己重复这些步骤 并且

27
00:01:25,190 --> 00:01:26,990
试着使用 dcast 函数 和

28
00:01:26,990 --> 00:01:29,640
nill 函数以及 reshape2 包

29
00:01:29,640 --> 00:01:31,430
nill 函数允许你

30
00:01:31,430 --> 00:01:34,210
将 Y 数据转换为原来的 long 格式
