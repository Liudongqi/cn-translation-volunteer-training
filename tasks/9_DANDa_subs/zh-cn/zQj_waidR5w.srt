1
00:00:00,290 --> 00:00:02,710
如果你准备就绪 我们就来查看代码 以将数据框重塑成新的数据框

2
00:00:02,710 --> 00:00:06,590
首先 让我们安装和加载 R 重塑两个包

3
00:00:06,590 --> 00:00:10,340
现在 让我们以宽格式为新的数据框创建变量

4
00:00:10,340 --> 00:00:13,300
我将为数据框使用相同的变量名

5
00:00:13,300 --> 00:00:15,950
并只将宽格式

6
00:00:15,950 --> 00:00:18,760
添加到末尾 现在 我们要使用 dcast

7
00:00:18,760 --> 00:00:22,310
函数 其中包括 R 重塑两个包

8
00:00:22,310 --> 00:00:25,760
由于我们需要结果为数据框 使用字母 d

9
00:00:25,760 --> 00:00:28,250
如果我们需要数组或矩阵 我们可以使用 cast 函数

10
00:00:28,250 --> 00:00:31,890
我们指定要更改的数据集

11
00:00:31,890 --> 00:00:34,820
然后将其置于公式中

12
00:00:34,820 --> 00:00:38,960
因此 这是我要修改的数据框 然后 这是我进入公式的地方

13
00:00:38,960 --> 00:00:41,200
现在 公式的第一部分或 Tilly 符号左侧部分

14
00:00:41,200 --> 00:00:44,220
将列出我需要保持在期间的另一侧变量

15
00:00:44,220 --> 00:00:48,050
在这里 我只需要保持 h

16
00:00:48,050 --> 00:00:51,400
在 Tilda 的右侧 我们使用性别变量

17
00:00:51,400 --> 00:00:54,430
因为我们希望男性和女性用户在数据框内有自己的中位好友数专栏

18
00:00:54,430 --> 00:00:58,180
最后 我们设置价值点方差等于中位好友数

19
00:00:58,180 --> 00:01:02,360
因为价值点方差将关键测量

20
00:01:02,360 --> 00:01:05,019
或其值保留在我们新的数据框内 

21
00:01:05,019 --> 00:01:07,900
看起来好像我忘记了此变量周围的引号

22
00:01:07,900 --> 00:01:11,210
所以让我们补上引号 现在 我们应该获得新的数据框  

23
00:01:11,210 --> 00:01:13,020
让我们看看一些数据框

24
00:01:13,020 --> 00:01:16,590
以便确保理解此 dcast 函数

25
00:01:16,590 --> 00:01:20,970
下面是一些打印出的行 注意这里有年龄栏 我的女性中位好友数和

26
00:01:20,970 --> 00:01:25,190
我的男性中位好友数

27
00:01:25,190 --> 00:01:26,990
看看你是否可以自己重新创建这些步骤

28
00:01:26,990 --> 00:01:29,640
你可以尝试采用 Dcast 和 Nill 函数以及重塑包来实现

29
00:01:29,640 --> 00:01:31,430
Nill 函数允许你将 Y 数据

30
00:01:31,430 --> 00:01:34,210
转换为原长格式
